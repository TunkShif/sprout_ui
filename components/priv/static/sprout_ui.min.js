"use strict";var SproutUI=(()=>{var _=Object.defineProperty,Ft=Object.defineProperties,jt=Object.getOwnPropertyDescriptor,qt=Object.getOwnPropertyDescriptors,Kt=Object.getOwnPropertyNames,Y=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var et=(t,n,e)=>n in t?_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,b=(t,n)=>{for(var e in n||(n={}))nt.call(n,e)&&et(t,e,n[e]);if(Y)for(var e of Y(n))yt.call(n,e)&&et(t,e,n[e]);return t},k=(t,n)=>Ft(t,qt(n));var ot=(t,n)=>{var e={};for(var o in t)nt.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&Y)for(var o of Y(t))n.indexOf(o)<0&&yt.call(t,o)&&(e[o]=t[o]);return e};var It=(t,n)=>{for(var e in n)_(t,e,{get:n[e],enumerable:!0})},$t=(t,n,e,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Kt(n))!nt.call(t,i)&&i!==e&&_(t,i,{get:()=>n[i],enumerable:!(o=jt(n,i))||o.enumerable});return t};var Ut=t=>$t(_({},"__esModule",{value:!0}),t);var w=(t,n,e)=>(et(t,typeof n!="symbol"?n+"":n,e),e);var P=(t,n,e)=>new Promise((o,i)=>{var s=a=>{try{r(e.next(a))}catch(u){i(u)}},l=a=>{try{r(e.throw(a))}catch(u){i(u)}},r=a=>a.done?o(a.value):Promise.resolve(a.value).then(s,l);r((e=e.apply(t,n)).next())});var ge={};It(ge,{default:()=>me,floating:()=>Nt,modal:()=>xt,transition:()=>zt});var Xt=()=>{window.addEventListener("sprt:toggle_attribute",t=>{let{target:n,detail:e}=t,o=n.getAttribute(e.attribute)===e.states[0]?e.states[1]:e.states[0];n.setAttribute(e.attribute,o)})},Yt=()=>({init:Xt}),wt=Yt;var it=class extends HTMLElement{constructor(){super();w(this,"open",!1);w(this,"disableScrolling",!0);w(this,"containerEl");w(this,"handleClick",e=>{var i,s;let o=e.target;((i=this.containerEl)==null?void 0:i.isSameNode(o))||((s=this.containerEl)==null?void 0:s.contains(o))||(this.dataset.uiState="",this.execOnCloseJs(),document.removeEventListener("click",this.handleClick))});w(this,"handleKeyDown",e=>{let o=e.key;(o==="Escape"||o==="Esc")&&(this.dataset.uiState="",this.execOnCloseJs(),document.removeEventListener("keydown",this.handleKeyDown))});this.disableScrolling=Boolean(this.dataset.disableScrolling)||this.disableScrolling,this.containerEl=this.getContainerEl()}static get observedAttributes(){return["data-ui-state"]}connectedCallback(){this.update()}attributeChangedCallback(e,o,i){o!==i&&(e==="data-ui-state"&&(this.open=i==="open"),this.update())}getContainerEl(){return this.querySelector("[data-part=container]")}update(){this.open?(this.execOnOpenJs(),this.toggleScrolling("off"),document.addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handleKeyDown)):(this.toggleScrolling("on"),document.removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.handleKeyDown))}execOnOpenJs(){this.dataset.onOpenJs&&window.liveSocket.execJS(this,this.dataset.onOpenJs)}execOnCloseJs(){this.dataset.onCloseJs&&window.liveSocket.execJS(this,this.dataset.onCloseJs)}toggleScrolling(e){if(!!this.disableScrolling)switch(e){case"on":Object.assign(document.body.style,{overflow:""});break;case"off":Object.assign(document.body.style,{overflow:"hidden"});break}}},_t=t=>({init:()=>{let n=(t==null?void 0:t.element)||"sprt-modal";customElements.define(n,it)}}),xt=_t;function B(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function F(t){return["top","bottom"].includes(B(t))?"x":"y"}function st(t){return t==="y"?"height":"width"}function bt(t,n,e){let{reference:o,floating:i}=t,s=o.x+o.width/2-i.width/2,l=o.y+o.height/2-i.height/2,r=F(n),a=st(r),u=o[a]/2-i[a]/2,h=r==="x",c;switch(B(n)){case"top":c={x:s,y:o.y-i.height};break;case"bottom":c={x:s,y:o.y+o.height};break;case"right":c={x:o.x+o.width,y:l};break;case"left":c={x:o.x-i.width,y:l};break;default:c={x:o.x,y:o.y}}switch(Q(n)){case"start":c[r]-=u*(e&&h?-1:1);break;case"end":c[r]+=u*(e&&h?-1:1)}return c}var Tt=(t,n,e)=>P(void 0,null,function*(){let{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:l}=e,r=yield l.isRTL==null?void 0:l.isRTL(n),a=yield l.getElementRects({reference:t,floating:n,strategy:i}),{x:u,y:h}=bt(a,o,r),c=o,f={},p=0;for(let d=0;d<s.length;d++){let{name:m,fn:v}=s[d],{x:y,y:x,data:E,reset:g}=yield v({x:u,y:h,initialPlacement:o,placement:c,strategy:i,middlewareData:f,rects:a,platform:l,elements:{reference:t,floating:n}});u=y!=null?y:u,h=x!=null?x:h,f=k(b({},f),{[m]:b(b({},f[m]),E)}),g&&p<=50&&(p++,typeof g=="object"&&(g.placement&&(c=g.placement),g.rects&&(a=g.rects===!0?yield l.getElementRects({reference:t,floating:n,strategy:i}):g.rects),{x:u,y:h}=bt(a,c,r)),d=-1)}return{x:u,y:h,placement:c,strategy:i,middlewareData:f}});function Ct(t){return typeof t!="number"?function(n){return b({top:0,right:0,bottom:0,left:0},n)}(t):{top:t,right:t,bottom:t,left:t}}function z(t){return k(b({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function at(t,n){return P(this,null,function*(){var e;n===void 0&&(n={});let{x:o,y:i,platform:s,rects:l,elements:r,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:c="floating",altBoundary:f=!1,padding:p=0}=n,d=Ct(p),m=r[f?c==="floating"?"reference":"floating":c],v=z(yield s.getClippingRect({element:(e=yield s.isElement==null?void 0:s.isElement(m))==null||e?m:m.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(r.floating)),boundary:u,rootBoundary:h,strategy:a})),y=z(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c==="floating"?k(b({},l.floating),{x:o,y:i}):l.reference,offsetParent:yield s.getOffsetParent==null?void 0:s.getOffsetParent(r.floating),strategy:a}):l[c]);return{top:v.top-y.top+d.top,bottom:y.bottom-v.bottom+d.bottom,left:v.left-y.left+d.left,right:y.right-v.right+d.right}})}var Gt=Math.min,Qt=Math.max;function rt(t,n,e){return Qt(t,Gt(n,e))}var lt=t=>({name:"arrow",options:t,fn(e){return P(this,null,function*(){let{element:o,padding:i=0}=t!=null?t:{},{x:s,y:l,placement:r,rects:a,platform:u}=e;if(o==null)return{};let h=Ct(i),c={x:s,y:l},f=F(r),p=Q(r),d=st(f),m=yield u.getDimensions(o),v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=a.reference[d]+a.reference[f]-c[f]-a.floating[d],E=c[f]-a.reference[f],g=yield u.getOffsetParent==null?void 0:u.getOffsetParent(o),A=g?f==="y"?g.clientHeight||0:g.clientWidth||0:0;A===0&&(A=a.floating[d]);let $=x/2-E/2,J=h[v],N=A-m[d]-h[y],S=A/2-m[d]/2+$,T=rt(J,S,N),R=(p==="start"?h[v]:h[y])>0&&S!==T&&a.reference[d]<=a.floating[d];return{[f]:c[f]-(R?S<J?J-S:N-S:0),data:{[f]:T,centerOffset:S-T}}})}}),Zt={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,n=>Zt[n])}function te(t,n,e){e===void 0&&(e=!1);let o=Q(t),i=F(t),s=st(i),l=i==="x"?o===(e?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(l=G(l)),{main:l,cross:G(l)}}var ee={start:"end",end:"start"};function Et(t){return t.replace(/start|end/g,n=>ee[n])}var ne=["top","right","bottom","left"],be=ne.reduce((t,n)=>t.concat(n,n+"-start",n+"-end"),[]);var ct=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn(e){return P(this,null,function*(){var o;let{placement:i,middlewareData:s,rects:l,initialPlacement:r,platform:a,elements:u}=e,S=t,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",flipAlignment:d=!0}=S,m=ot(S,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),v=B(i),y=f||(v===r||!d?[G(r)]:function(T){let R=G(T);return[Et(T),R,Et(R)]}(r)),x=[r,...y],E=yield at(e,m),g=[],A=((o=s.flip)==null?void 0:o.overflows)||[];if(h&&g.push(E[v]),c){let{main:T,cross:R}=te(i,l,yield a.isRTL==null?void 0:a.isRTL(u.floating));g.push(E[T],E[R])}if(A=[...A,{placement:i,overflows:g}],!g.every(T=>T<=0)){var $,J;let T=(($=(J=s.flip)==null?void 0:J.index)!=null?$:0)+1,R=x[T];if(R)return{data:{index:T,overflows:A},reset:{placement:R}};let U="bottom";switch(p){case"bestFit":{var N;let vt=(N=A.map(X=>[X,X.overflows.filter(V=>V>0).reduce((V,Bt)=>V+Bt,0)]).sort((X,V)=>X[1]-V[1])[0])==null?void 0:N[0].placement;vt&&(U=vt);break}case"initialPlacement":U=r}if(i!==U)return{reset:{placement:U}}}return{}})}}};var ft=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(e){return P(this,null,function*(){let{x:o,y:i}=e,s=yield function(l,r){return P(this,null,function*(){let{placement:a,platform:u,elements:h}=l,c=yield u.isRTL==null?void 0:u.isRTL(h.floating),f=B(a),p=Q(a),d=F(a)==="x",m=["left","top"].includes(f)?-1:1,v=c&&d?-1:1,y=typeof r=="function"?r(l):r,{mainAxis:x,crossAxis:E,alignmentAxis:g}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:b({mainAxis:0,crossAxis:0,alignmentAxis:null},y);return p&&typeof g=="number"&&(E=p==="end"?-1*g:g),d?{x:E*v,y:x*m}:{x:x*m,y:E*v}})}(e,t);return{x:o+s.x,y:i+s.y,data:s}})}}};function oe(t){return t==="x"?"y":"x"}var ut=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn(e){return P(this,null,function*(){let{x:o,y:i,placement:s}=e,y=t,{mainAxis:l=!0,crossAxis:r=!1,limiter:a={fn:x=>{let{x:E,y:g}=x;return{x:E,y:g}}}}=y,u=ot(y,["mainAxis","crossAxis","limiter"]),h={x:o,y:i},c=yield at(e,u),f=F(B(s)),p=oe(f),d=h[f],m=h[p];if(l){let x=f==="y"?"bottom":"right";d=rt(d+c[f==="y"?"top":"left"],d,d-c[x])}if(r){let x=p==="y"?"bottom":"right";m=rt(m+c[p==="y"?"top":"left"],m,m-c[x])}let v=a.fn(k(b({},e),{[f]:d,[p]:m}));return k(b({},v),{data:{x:v.x-o,y:v.y-i}})})}}};function Ot(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function H(t){if(t==null)return window;if(!Ot(t)){let n=t.ownerDocument;return n&&n.defaultView||window}return t}function M(t){return H(t).getComputedStyle(t)}function W(t){return Ot(t)?"":t?(t.nodeName||"").toLowerCase():""}function Ht(){let t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function C(t){return t instanceof H(t).HTMLElement}function L(t){return t instanceof H(t).Element}function K(t){return typeof ShadowRoot=="undefined"?!1:t instanceof H(t).ShadowRoot||t instanceof ShadowRoot}function I(t){let{overflow:n,overflowX:e,overflowY:o,display:i}=M(t);return/auto|scroll|overlay|hidden/.test(n+o+e)&&!["inline","contents"].includes(i)}function ie(t){return["table","td","th"].includes(W(t))}function Lt(t){let n=/firefox/i.test(Ht()),e=M(t);return e.transform!=="none"||e.perspective!=="none"||n&&e.willChange==="filter"||n&&!!e.filter&&e.filter!=="none"||["transform","perspective"].some(o=>e.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{let i=e.contain;return i!=null&&i.includes(o)})}function Pt(){return!/^((?!chrome|android).)*safari/i.test(Ht())}function ht(t){return["html","body","#document"].includes(W(t))}var At=Math.min,j=Math.max,Z=Math.round;function O(t,n,e){var o,i,s,l;n===void 0&&(n=!1),e===void 0&&(e=!1);let r=t.getBoundingClientRect(),a=1,u=1;n&&C(t)&&(a=t.offsetWidth>0&&Z(r.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Z(r.height)/t.offsetHeight||1);let h=L(t)?H(t):window,c=!Pt()&&e,f=(r.left+(c&&(o=(i=h.visualViewport)==null?void 0:i.offsetLeft)!=null?o:0))/a,p=(r.top+(c&&(s=(l=h.visualViewport)==null?void 0:l.offsetTop)!=null?s:0))/u,d=r.width/a,m=r.height/u;return{width:d,height:m,top:p,right:f+d,bottom:p+m,left:f,x:f,y:p}}function D(t){return(n=t,(n instanceof H(n).Node?t.ownerDocument:t.document)||window.document).documentElement;var n}function tt(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Dt(t){return O(D(t)).left+tt(t).scrollLeft}function re(t,n,e){let o=C(n),i=D(n),s=O(t,o&&function(a){let u=O(a);return Z(u.width)!==a.offsetWidth||Z(u.height)!==a.offsetHeight}(n),e==="fixed"),l={scrollLeft:0,scrollTop:0},r={x:0,y:0};if(o||!o&&e!=="fixed")if((W(n)!=="body"||I(i))&&(l=tt(n)),C(n)){let a=O(n,!0);r.x=a.x+n.clientLeft,r.y=a.y+n.clientTop}else i&&(r.x=Dt(i));return{x:s.left+l.scrollLeft-r.x,y:s.top+l.scrollTop-r.y,width:s.width,height:s.height}}function pt(t){return W(t)==="html"?t:t.assignedSlot||t.parentNode||(K(t)?t.host:null)||D(t)}function St(t){return C(t)&&M(t).position!=="fixed"?t.offsetParent:null}function dt(t){let n=H(t),e=St(t);for(;e&&ie(e)&&M(e).position==="static";)e=St(e);return e&&(W(e)==="html"||W(e)==="body"&&M(e).position==="static"&&!Lt(e))?n:e||function(o){let i=pt(o);for(K(i)&&(i=i.host);C(i)&&!ht(i);){if(Lt(i))return i;{let s=i.parentNode;i=K(s)?s.host:s}}return null}(t)||n}function Rt(t){if(C(t))return{width:t.offsetWidth,height:t.offsetHeight};let n=O(t);return{width:n.width,height:n.height}}function Mt(t){let n=pt(t);return ht(n)?t.ownerDocument.body:C(n)&&I(n)?n:Mt(n)}function q(t,n){var e;n===void 0&&(n=[]);let o=Mt(t),i=o===((e=t.ownerDocument)==null?void 0:e.body),s=H(o),l=i?[s].concat(s.visualViewport||[],I(o)?o:[]):o,r=n.concat(l);return i?r:r.concat(q(l))}function kt(t,n,e){return n==="viewport"?z(function(o,i){let s=H(o),l=D(o),r=s.visualViewport,a=l.clientWidth,u=l.clientHeight,h=0,c=0;if(r){a=r.width,u=r.height;let f=Pt();(f||!f&&i==="fixed")&&(h=r.offsetLeft,c=r.offsetTop)}return{width:a,height:u,x:h,y:c}}(t,e)):L(n)?function(o,i){let s=O(o,!1,i==="fixed"),l=s.top+o.clientTop,r=s.left+o.clientLeft;return{top:l,left:r,x:r,y:l,right:r+o.clientWidth,bottom:l+o.clientHeight,width:o.clientWidth,height:o.clientHeight}}(n,e):z(function(o){var i;let s=D(o),l=tt(o),r=(i=o.ownerDocument)==null?void 0:i.body,a=j(s.scrollWidth,s.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=j(s.scrollHeight,s.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),h=-l.scrollLeft+Dt(o),c=-l.scrollTop;return M(r||s).direction==="rtl"&&(h+=j(s.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:h,y:c}}(D(t)))}function se(t){let n=q(t),e=function(i,s){let l=i;for(;l&&!ht(l)&&!s.includes(l)&&(!L(l)||!["absolute","fixed"].includes(M(l).position));){let r=pt(l);l=K(r)?r.host:r}return l}(t,n),o=null;if(e&&C(e)){let i=dt(e);I(e)?o=e:C(i)&&(o=i)}return L(o)?n.filter(i=>o&&L(i)&&function(s,l){let r=l.getRootNode==null?void 0:l.getRootNode();if(s.contains(l))return!0;if(r&&K(r)){let a=l;do{if(a&&s===a)return!0;a=a.parentNode||a.host}while(a)}return!1}(i,o)&&W(i)!=="body"):[]}var ae={getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:o,strategy:i}=t,s=[...e==="clippingAncestors"?se(n):[].concat(e),o],l=s[0],r=s.reduce((a,u)=>{let h=kt(n,u,i);return a.top=j(h.top,a.top),a.right=At(h.right,a.right),a.bottom=At(h.bottom,a.bottom),a.left=j(h.left,a.left),a},kt(n,l,i));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:o}=t,i=C(e),s=D(e);if(e===s)return n;let l={scrollLeft:0,scrollTop:0},r={x:0,y:0};if((i||!i&&o!=="fixed")&&((W(e)!=="body"||I(s))&&(l=tt(e)),C(e))){let a=O(e,!0);r.x=a.x+e.clientLeft,r.y=a.y+e.clientTop}return k(b({},n),{x:n.x-l.scrollLeft+r.x,y:n.y-l.scrollTop+r.y})},isElement:L,getDimensions:Rt,getOffsetParent:dt,getDocumentElement:D,getElementRects:t=>{let{reference:n,floating:e,strategy:o}=t;return{reference:re(n,dt(e),o),floating:k(b({},Rt(e)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>M(t).direction==="rtl"};function Wt(t,n,e,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=!0,animationFrame:r=!1}=o,a=i&&!r,u=a||s?[...L(t)?q(t):t.contextElement?q(t.contextElement):[],...q(n)]:[];u.forEach(p=>{a&&p.addEventListener("scroll",e,{passive:!0}),s&&p.addEventListener("resize",e)});let h,c=null;if(l){let p=!0;c=new ResizeObserver(()=>{p||e(),p=!1}),L(t)&&!r&&c.observe(t),L(t)||!t.contextElement||r||c.observe(t.contextElement),c.observe(n)}let f=r?O(t):null;return r&&function p(){let d=O(t);!f||d.x===f.x&&d.y===f.y&&d.width===f.width&&d.height===f.height||e(),f=d,h=requestAnimationFrame(p)}(),e(),()=>{var p;u.forEach(d=>{a&&d.removeEventListener("scroll",e),s&&d.removeEventListener("resize",e)}),(p=c)==null||p.disconnect(),c=null,r&&cancelAnimationFrame(h)}}var Jt=(t,n,e)=>Tt(t,n,b({platform:ae},e));var le={offset:ft,shift:ut,flip:ct,arrow:lt},mt=class extends HTMLElement{constructor(){super();w(this,"active",!1);w(this,"anchorEl");w(this,"arrowEl");w(this,"middleware");w(this,"cleanup");this.anchorEl=this.getAnchorEl(),this.middleware=this.getMiddleware()}static get observedAttributes(){return["data-ui-state","data-placement"]}connectedCallback(){this.start()}disconnectedCallback(){this.stop()}attributeChangedCallback(e,o,i){e==="data-ui-state"&&(this.active=i==="active"),this.active&&this.update()}get placement(){return this.dataset.placement||"bottom"}getAnchorEl(){return this.dataset.anchor?document.querySelector(this.dataset.anchor):null}getMiddleware(){let e=JSON.parse(this.dataset.middleware||"[]"),o=e.find(([i])=>i==="arrow");if(o){let i=o[1].element;this.arrowEl=this.querySelector(i),o[1].element=this.arrowEl}return e.map(([i,s])=>le[i](s))}start(){!this.anchorEl||(this.cleanup=Wt(this.anchorEl,this,this.update.bind(this)))}stop(){var e;(e=this.cleanup)==null||e.call(this)}update(){!this.active||!this.anchorEl||Jt(this.anchorEl,this,{placement:this.placement,middleware:this.middleware}).then(({x:e,y:o,placement:i,middlewareData:s})=>{if(Object.assign(this.style,{left:`${e}px`,top:`${o}px`}),s.arrow&&this.arrowEl){let{x:l,y:r}=s.arrow,a={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(this.arrowEl.style,{left:l!=null?`${l}px`:"",top:r!=null?`${r}px`:"",right:"",bottom:"",[a]:"-4px"})}})}},ce=t=>({init:()=>{let n=(t==null?void 0:t.element)||"sprt-floating";customElements.define(n,mt)},handleDomChange:(n,e)=>{n.nodeName.toLowerCase()===((t==null?void 0:t.element)||"sprt-floating")&&e.setAttribute("style",n.getAttribute("style")||"")}}),Nt=ce;var fe=(t,n)=>{let e=()=>{n(),t.removeEventListener("transitionend",e,!1)};t.addEventListener("transitionend",e,!1)},ue=(t,n,e)=>{let o,i,s;switch(n){case"enter":o=e.enter,i=e.enterFrom,s=e.enterTo;break;case"leave":o=e.leave,i=e.leaveFrom,s=e.leaveTo;break}n==="enter"&&(t.removeAttribute("hidden"),t.style.display=""),t.classList.add(...o,...i),requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.classList.remove(...i),t.classList.add(...s),fe(t,()=>{t.classList.remove(...o),n==="leave"&&(t.style.display="none")})})})},Vt=(t,n,e)=>{if(!n.hasAttribute(e.attribute))return;let o=()=>n.getAttribute(e.attribute)||"";o()===e.stages.leave?t.style.display="none":t.style.display="";let i=new MutationObserver(s=>{for(let l of s)if(l.attributeName===e.attribute){let r=o()===e.stages.leave?"leave":"enter";ue(t,r,e.classes)}});return i.observe(n,{attributes:!0}),()=>i.disconnect()};var gt=class{constructor(n,e){w(this,"cleanup");w(this,"element");w(this,"config");this.element=n,this.config=e}init(){let n=document.querySelector(this.config.on)||this.element;this.cleanup=Vt(this.element,n,this.config.options)}},de=()=>{let t=new WeakMap;window.addEventListener("sprt:transition:init",n=>{let{target:e,detail:o}=n,i=new gt(e,o);t.set(e,i),i.init()}),window.addEventListener("sprt:transition:cleanup",n=>{var i;let{target:e}=n,o=t.get(e);(i=o==null?void 0:o.cleanup)==null||i.call(o)})},he=()=>({init:de,handleDomChange:(t,n)=>{t.hasAttribute("data-transition")&&(t.getAttribute("style")===null?n.removeAttribute("style"):n.setAttribute("style",t.getAttribute("style")),t.getAttribute("hidden")===null?n.removeAttribute("hidden"):n.setAttribute("hidden","true"))}}),zt=he;var pe=t=>{let n=[wt(),...t.components];return{initComponents:()=>{n.forEach(e=>{var o;return(o=e.init)==null?void 0:o.call(e)})},hooks:Object.assign({},...n.map(e=>{var o;return(o=e.hook)==null?void 0:o.call(e)})),handleDomChange:(e,o)=>{n.forEach(i=>{var s;return(s=i.handleDomChange)==null?void 0:s.call(i,e,o)})}}},me=pe;return Ut(ge);})();
